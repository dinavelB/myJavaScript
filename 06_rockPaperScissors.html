<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Rock, Paper and Scissors</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    <script src='main.js'></script>
</head>
<body>
    <section>
        <div>
            <p>Rock Paper Scissors</p>
            <button onclick="playGame('rock')">Rock</button>
            <button onclick="playGame('paper')">Paper</button>
            <button onclick="playGame('scissors')">Scissors</button>
            <button onclick="resetData()">Reset Scores</button>
        </div>
    </section>
    <script>


      /*  function playTheGame (playerChoice){
            let result = ''
            let computerMove = computerChoice();
            if(playerChoice === 'rock'){
                if(computerMove === 'rock'){
                result = 'Tie.'
                } else if(computerMove === 'scissors'){
                    result = 'Win'
                } else{
                    result = 'Lose'
                }
                console.log(`you chose ${playerChoice}, the computer chose ${computerMove}, you ${result}`)
            } 
            else if(playerChoice === 'scissors'){
                if(computerMove === 'rock'){
                    result = 'Lose.'
                    } else if(computerMove === 'scissors'){
                        result = 'Tie'
                    } else{
                        result = 'Win'
                    }
                    console.log(`you chose ${playerChoice}, the computer chose ${computerMove}, you ${result}`)
            }
            else{
                    if(computerMove === 'rock'){
                    result = 'Win.'
                    } else if(computerMove === 'scissors'){
                        result = 'Lose'
                    } else{
                        result = 'Tie'
                    }
                    console.log(`you chose ${playerChoice}, the computer chose ${computerMove}, you ${result}`)
            }
        }
             const storedCount = localStorage.getItem('clickCount');
    
        let count;
        if(storedCount){
            count = parseInt(storedCount);
        } else {
            count = 0
        }


        function increment() {
            count++;
            document.getElementById('count').textContent = count;
            localStorage.setItem('clickCount', count);
        }

        function reset() {
            count = 0;
         document.getElementById('count').textContent = count;
            localStorage.setItem('clickCount', count);
        }

        // Initialize display
        document.getElementById('count').textContent = count;
            */
           
        
        const store = JSON.parse(localStorage.getItem('scores'))

        let scoresData;
        if(store){
            scoresData = store
        } else{
                scoresData = {
            wins: 0,
            losses: 0,
            tie: 0
            }
        }
        function resetData(){
            scoresData = {
            wins: 0,
            losses: 0,
            tie: 0
            }
            console.log('The scoreboard has been reset.')
        }
        
        function playGame(playerChoice){
            let result = ''
            const computerMove = computerChoice()
            if(playerChoice === computerMove){
                result = 'Tie'
            }else if(playerChoice === 'rock' && computerMove === 'scissors' ||
                playerChoice === 'scissors' && computerMove === 'paper'||
                playerChoice === 'paper' && computerMove === 'rock'
            ){
                result = 'Win'
            }else{
                result = 'Lose'
            }

             if(result === 'Win'){
                scoresData.wins += 1
             } else if(result === 'Lose'){
                scoresData.losses += 1
             } else{
                scoresData.tie += 1
             }

             localStorage.setItem('scores', JSON.stringify(scoresData))

              alert(`You chose ${playerChoice}, the computer chose ${computerMove}, you ${result}
Wins: ${scoresData.wins}, Losses: ${scoresData.losses}, Ties: ${scoresData.tie}`);
        }
        function computerChoice(){
            const computerMove = Math.floor(Math.random() * 3)
            let rock = 2
            let sci = 1
            let paper = 0
            let move = ''
            if(computerMove === rock){
                move = 'rock'
            }
            else if(computerMove === sci){
                move = 'scissors'
            }else{
                move = 'paper'
            }
            return move;
        }     
        function resetScores(){
            
        }
    </script>
</body>
</html>